| Component                     | L2 Blockchain                                                                                                                                                                                                                                                                                                                                                                   | L1 Blockchain                                                                                                                                                                                                                       |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Wallet (Transaction Creation) | • User constructs a transaction object containing `to`, `value`, `data` (for contracts), `nonce`, `gasLimit`, `gasPrice`.<br>• The Go CLI or frontend serializes it (RLP or JSON), computes its Keccak-256 hash, and signs it with the secp256k1 private key.<br>• The wallet displays the raw signed payload, ready to be submitted via RPC or P2P.                            | N/A                                                                                                                                                                                                                                 |
| Broadcast                     | • The wallet submits the signed transaction to a local L2 node’s JSON-RPC endpoint (`eth_sendRawTransaction`).<br>• Alternatively (or in parallel), the wallet publishes the transaction on the libp2p Gossipsub topic `transactions` for immediate peer-to-peer propagation.                                                                                                   | N/A                                                                                                                                                                                                                                 |
| Peer-to-Peer Propagation      | • Nodes discover each other via libp2p’s mDNS (local dev) or DHT bootstrap (testnet/mainnet).<br>• Gossipsub floods the new transaction across the mesh: each peer rebroadcasts to its peers until all nodes receive it.<br>• Secure channels (Noise protocol) ensure encryption and authentication between peers.                                                              | N/A                                                                                                                                                                                                                                 |
| Transaction Validation        | • Each node, upon receiving the TX, verifies:<br>  – Signature is valid and matches the sender’s public key.<br>  – Nonce equals sender’s current account nonce to prevent replay.<br>  – Sender’s balance ≥ `value + gasLimit * gasPrice`.<br>  – Gas limit and format conform to protocol rules.<br>• Invalid or malicious transactions are dropped and not gossiped further. | N/A                                                                                                                                                                                                                                 |
| Mempool                       | • Validated transactions enter an in-memory mempool, ordered by descending `gasPrice`.<br>• Mempool enforces limits (e.g., max size or gas capacity) and eviction policies (lowest-fee TXs dropped under high load).<br>• Transactions remain until included in a block or expired by reaching a nonce gap or timeout.                                                          | N/A                                                                                                                                                                                                                                 |
| Block Assembly                | • The elected validator pulls the highest-fee transactions from its mempool up to the block gas limit.<br>• It computes:<br>  – `parentHash` (hash of previous block),<br>  – `txRoot` (Merkle root of selected TXs),<br>  – a temporary `stateRoot` placeholder.<br>• Constructs the unsigned block header and packages the selected TXs.                                      | N/A                                                                                                                                                                                                                                 |
| Block Signing & Propagation   | • Validator re-executes the selected TXs against its local state to compute the final `stateRoot`.<br>• Signs the block header with its validator key.<br>• Publishes the signed block on the libp2p Gossipsub topic `blocks`.<br>• Other peers receive and forward the block until it reaches all active nodes.                                                                | N/A                                                                                                                                                                                                                                 |
| Block Reception & Validation  | • Upon block arrival, nodes verify:<br>  – The block signature corresponds to the elected validator for that height.<br>  – `parentHash` matches the local chain head.<br>  – Replaying the block’s transactions yields the stated `stateRoot` and `txRoot`.<br>• Valid blocks are appended to the local chain; any invalid block is discarded.                                 | N/A                                                                                                                                                                                                                                 |
| State Execution               | • The node’s EVM engine executes each TX in sequence:<br>  – Deducts gas fees from sender and credits validator.<br>  – Transfers `value` between accounts.<br>  – Runs contract bytecode, updating contract storage in the Merkle trie.<br>  – Increments sender’s nonce.<br>• Final state root is stored in the block header for cryptographic commitment.                    | N/A                                                                                                                                                                                                                                 |
| Finalization                  | • Once the block attains BFT finality (via consensus votes) or reaches a confirmation threshold, it becomes irreversible.<br>• All transactions within gain immutability guarantees on L2—no forks can revert them past this point.                                                                                                                                             | N/A                                                                                                                                                                                                                                 |
| Explorer Indexing             | • The Go-based indexer subscribes to the libp2p `blocks` topic or polls JSON-RPC for new blocks.<br>• Parses block headers and transactions, storing them in a Postgres/MongoDB database.<br>• Provides REST/GraphQL endpoints for the React frontend to query block/tx/account details in real time.                                                                           | N/A                                                                                                                                                                                                                                 |
| Bridge Relayer                | • For cross-chain operations (e.g., withdrawals), the relayer monitors L2 events via RPC or gossipsub.<br>• Upon detecting a withdrawal request, it collects necessary proofs (merkle proofs, state root signatures).<br>• Prepares an Ethereum-formatted transaction containing the proof for the L1 bridge contract.                                                          | N/A                                                                                                                                                                                                                                 |
| Bridge Submission (to L1)     | N/A                                                                                                                                                                                                                                                                                                                                                                             | • Relayer signs and submits the proof transaction to the Ethereum bridge contract via `eth_sendRawTransaction`.<br>• The bridge contract verifies the proof and, if valid, releases the corresponding asset on L1 (unlock or mint). |
| L1 Inclusion & Confirmation   | N/A                                                                                                                                                                                                                                                                                                                                                                             | • The Ethereum network mines the bridge transaction into a block.<br>• After sufficient L1 confirmations (e.g., 12+ blocks), the withdrawal or deposit is considered final on L1.                                                   |
